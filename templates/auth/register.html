{% extends 'base.html' %}

{% block content %}
<h3>Registration</h3>
<div class="col-md-6 offset-md-3">
  <form name="registerForm" class="" action="" method="post" onsubmit="checkPassword(); return false;">
    <div class="form-group">
      <label>Name</label>
      <input type="text" class="form-control" placeholder="Enter name"
             name="username" value="{{ username }}" required>
    </div>
    <div class="form-group">
      <label>Email address</label>
      <input type="email" class="form-control" placeholder="Enter email"
             name="email" value="{{ email }}" required>
    </div>
    <div class="form-group">
      <label>Password</label>
      <input id="passwd" type="password" class="form-control"
             placeholder="Password" name="passwd" required>
    </div>
    <div class="form-group">
      <label>Password confirmation</label>
      <input id="passwd1" type="password" class="form-control"
             placeholder="retype password" name="passwd1" required>
    </div>
    <button type="submit" class="btn btn-primary">Create account</button>
  </form>
</div>
{% endblock %}

{% block scripts %}
<script>
  function checkPassword() {
    var registerForm = document.forms.registerForm;
    if (registerForm.passwd.value != registerForm.passwd1.value) {
      $('.error').remove();
      var errorMessage = '<span class="error text-danger">Password does not match</span>';
      $('#passwd1').after(errorMessage);
    } else {
      registerForm.submit()
    }
  }
</script>
{% endblock %}
